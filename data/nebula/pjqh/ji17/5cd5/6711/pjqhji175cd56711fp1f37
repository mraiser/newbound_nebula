{"data":{"java":"File rootdir = BotBase.getBot(\"nebula\").getRootDir();\nFile assets = new File(rootdir.getParentFile().getParentFile(), \"data\");\nassets = new File(assets, \"nebula\");\nassets = new File(assets, \"_ASSETS\");\n\nFile f = new File(assets, \"service.txt\");\nString s = new String(BotUtil.readFile(f));\ns = s.replaceAll(\"SERVICENAME\", servicename);\ns = s.replaceAll(\"ROOTDIR\", rootdir.getCanonicalPath());\nString cmd = \"/etc/init.d/\"+servicename;\nf = new File(cmd);\nSystem.out.println(s);\nBotUtil.writeFile(f, s.getBytes());\n\nString[] sa = { \"chmod\", \"755\", cmd };\nsa = BotUtil.systemCall(sa);\ns = sa[0]+sa[1];\n\nsa = new String[] { \"update-rc.d\", servicename, \"defaults\" };\nsa = BotUtil.systemCall(sa);\ns += sa[0]+sa[1];\n\nif (s.equals(\"\")) s = \"OK\";\n\nreturn s;","import":"import org.json.*;\nimport com.newbound.robot.*;\nimport java.io.*;\n","params":[{"name":"servicename","type":"String"}],"desc":""},"id":"pjqhji175cd56711fp1f37","sessionid":"jvgvwg16b7a4d277bt3","time":1615662268417,"addr":"/0:0:0:0:0:0:0:1:37364","username":"admin"}
{"data":{"java":"File root = new File(\"/etc/nebula\");\nif (root.exists()) \n{\n  String[] sa = { \"service\", \"nebula\", \"stop\" };\n  sa = BotUtil.systemCall(sa);\n  String s = sa[0]+sa[1];\n\n  sa = new String[]{ \"service\", \"nebula\", \"disable\" };\n  sa = BotUtil.systemCall(sa);\n  s += sa[0]+sa[1];\n  \n  sa = new String[]{ \"update-rc.d\", \"-f\", \"nebula\", \"remove\" };\n  sa = BotUtil.systemCall(sa);\n  s += sa[0]+sa[1];\n  \n  File f = new File(\"/etc/init.d/nebula\");\n  f.delete();\n  \n  if (s.equals(\"\")) s = \"OK\";\n  \n  File home = BotBase.getBot(\"nebula\").getRootDir();\n  File dest = new File(home, \"networks\");\n  dest = new File(dest, \"nebula1\");\n  //BotUtil.copyFolder(root, dest);\n  //BotUtil.deleteDir(root);\n  root.renameTo(dest);\n  \n  f = new File(dest, \"owner.txt\");\n  BotBase.writeFile(f, \"66d6decb-d5a2-47dd-ac52-af86c51f54d9\".getBytes());\n  \n  f = new File(dest, \"connection.json\");\n  BotBase.writeFile(f, \"{ \\\"host\\\": \\\"0.0.0.0\\\", \\\"port\\\": 4242, \\\"am_lighthouse\\\": false, \\\"lighthouses\\\": { \\\"62148d06-3462-4d36-bf40-87eeb188e197\\\" : { \\\"private_ip\\\": \\\"192.168.100.1\\\", \\\"public_ip\\\": \\\"54.254.251.156\\\", \\\"port\\\": 4242 }, \\\"f4f3036e-c1b3-43a9-9551-322a0b94c205\\\": { \\\"private_ip\\\": \\\"192.168.100.16\\\", \\\"public_ip\\\": \\\"192.168.0.18\\\", \\\"port\\\": 4242 } } }\".getBytes());\n  \n  f = new File(dest, \"config.yml\");\n  String s2 = new String(BotBase.readFile(f));\n  s2 = s2.replaceAll(\"/etc/nebula\", dest.getCanonicalPath());\n  BotUtil.writeFile(f, s2.getBytes());\n  \n  ALLPARAMS.put(\"servicename\", \"nebula1\");\n  JSONObject jo = call(\"nebula\", \"nebula\", \"install_service\", ALLPARAMS);\n  s += jo.getString(\"status\");\n  \n  try { Thread.sleep(5000); } catch (Exception x) {}\n\n  ALLPARAMS.put(\"servicename\", \"nebula1\");\n  jo = call(\"nebula\", \"nebula\", \"start_service\", ALLPARAMS);\n  s += jo.getString(\"status\");\n\n  return s;\n}\n\nreturn \"Not found\";","import":"import org.json.*;\nimport com.newbound.robot.*;\nimport java.io.*;\n","returntype":"String","params":[],"desc":""},"id":"gjoisy175d2bd91bdu2a29","sessionid":"jvgvwg16b7a4d277bt3","time":1605637526390,"addr":"/0:0:0:0:0:0:0:1:51176","username":"admin"}
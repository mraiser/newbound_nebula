{"data":{"css":".closelhbutton {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n}","data":[],"name":"lighthouse","js":"var me = this; \nvar ME = $('#'+me.UUID)[0];\n\nme.ready = function(){\n  componentHandler.upgradeAllRegistered();\n  if (!ME.DATA.value) ME.DATA.value = {};\n  else {\n    $(ME).find('#lhprivateip').val(ME.DATA.value.private_ip).parent().addClass('is-dirty');\n    $(ME).find('#lhpublicip').val(ME.DATA.value.public_ip).parent().addClass('is-dirty');\n    $(ME).find('#lhport').val(ME.DATA.value.port).parent().addClass('is-dirty');\n  }\n  \n  var el = $(ME).find('.lighthousepeerselector');\n  var d = {\n    \"local\": false,\n    \"connectedonly\": true,\n    \"value\": ME.DATA.value.peer,\n    \"ready\": function(val){\n      ME.DATA.value.peer = el.find('select').val();\n    },\n    \"cb\": function(val){\n      ME.DATA.value.peer = val;\n    }\n  }\n  installControl(el[0], 'peerbot', 'selectpeer', function(api){}, d);\n};\n\nme.validate = function(){\n  var ok = false;\n  var msg = \"unknown error\";\n  if (!ME.DATA.value.private_ip) msg = \"Private IP is required\";\n  else if (!ME.DATA.value.public_ip) msg = \"Public IP is required\";\n  else if (!ME.DATA.value.port) msg = \"Port is required\";\n  else ok = true;\n  if (!ok) alert(msg);\n  return ok;\n}\n\n$(ME).find('#lhprivateip').change(function(e){\n  ME.DATA.value.private_ip = $(this).val();\n});\n\n$(ME).find('#lhpublicip').change(function(e){\n  ME.DATA.value.public_ip = $(this).val();\n});\n\n$(ME).find('#lhport').change(function(e){\n  ME.DATA.value.port = $(this).val();\n});\n\n$(ME).find('.closelhbutton').click(function(e){\n  if (ME.DATA.close) ME.DATA.close();\n});\n\n$(ME).find('.savelhbutton').click(function(e){\n  if (me.validate()) ME.DATA.save(ME.DATA.value);\n});\n","groups":"","ctl":"gpqgow175e184dcd2j26c","html":"<div class='lighthousepeerselector'><\/div>\n<form action=\"#\">\n  <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\n    <input class=\"mdl-textfield__input\" type=\"text\" id=\"lhprivateip\">\n    <label class=\"mdl-textfield__label\" for=\"lhpublicip\">Private IP<\/label>\n  <\/div>\n<\/form>\n<form action=\"#\">\n  <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\n    <input class=\"mdl-textfield__input\" type=\"text\" id=\"lhpublicip\">\n    <label class=\"mdl-textfield__label\" for=\"lhpublicip\">Public IP<\/label>\n  <\/div>\n<\/form>\n<form action=\"#\">\n  <div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\">\n    <input class=\"mdl-textfield__input\" type=\"text\" pattern=\"-?[0-9]*(\\.[0-9]+)?\" id=\"lhport\">\n    <label class=\"mdl-textfield__label\" for=\"lhport\">Port<\/label>\n    <span class=\"mdl-textfield__error\">Port must be a number!<\/span>\n  <\/div>\n<\/form>\n<button class=\"savelhbutton mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored\">\n  OK\n<\/button>\n<button class=\"closelhbutton mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab\">\n  <i class=\"material-icons\">close<\/i>\n<\/button>","three":{"controls":[]},"db":"nebula","desc":""},"id":"gpqgow175e184dcd2j26c","sessionid":"jvgvwg16b7a4d277bt3","time":1605973386361,"addr":"/0:0:0:0:0:0:0:1:44920","username":"admin"}
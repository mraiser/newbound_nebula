{"data":{"java":"File build = new File(BotBase.getBot(\"nebula\").getRootDir(), \"bin\");\nbuild.mkdirs();\n\nURL u = new URL(url);\nURLConnection uc = u.openConnection();\nuc.setConnectTimeout(1000);\nuc.setReadTimeout(1000);\nInputStream is = (InputStream)uc.getContent();\nFile f = new File(build, \"download.tgz\");\nf.delete();\nFileOutputStream os = new FileOutputStream(f);\nint len = uc.getContentLength();\nBotUtil.sendData(is, os, len, 4096);\nos.close();\nString[] sa = {\"tar\", \"-xzf\", f.getCanonicalPath(), \"-C\", build.getCanonicalPath()};\nsa = BotUtil.systemCall(sa);\nf.delete();\nint i = url.lastIndexOf(\"/\");\nString binary = url.substring(i+1);\n\nf = new File(build, \"version.txt\");\nProperties p = new Properties();\np.setProperty(\"version\", version);\np.setProperty(\"binary\", binary);\nBotUtil.storeProperties(p, f);\n\nreturn sa[0]+sa[1];","import":"import org.json.*;\nimport com.newbound.robot.*;\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\n","returntype":"String","params":[{"name":"url","type":"String"},{"name":"version","type":"String"}],"desc":""},"id":"sxqlqo175c3205217x1f70","time":1605299637329,"addr":"/0:0:0:0:0:0:0:1:60686","username":"admin"}